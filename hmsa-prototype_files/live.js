(function(){var LIB_VERSION=33;window.Transifex=window.Transifex||{};window.Transifex.live=window.Transifex.live||{};window.liveSettings=window.liveSettings||{};var TXLIVE=window.Transifex.live;if(TXLIVE.loaded&&TXLIVE.lib_version&&TXLIVE.lib_version>=LIB_VERSION)return;TXLIVE.loaded=true;TXLIVE.ready=false;TXLIVE.load_msec=0;TXLIVE.autocollected=false;TXLIVE.autocollect_enabled=false;TXLIVE.group="";var benchmark=0;var console=window.console;TXLIVE.lib_version=LIB_VERSION;TXLIVE.raven_extra={lib_version:TXLIVE.lib_version,
url:TXLIVE.editor&&TXLIVE.editor.url?TXLIVE.editor.url:document.location.href,iframe:TXLIVE.editor?true:false};window.liveSettings.autocollect=window.liveSettings.autocollect|0;window.liveSettings.prerender=window.liveSettings.prerender|0;window.liveSettings.dynamic=window.liveSettings.dynamic|0;window.liveSettings.staging=window.liveSettings.staging|0;if(window.liveSettings.detectlang&&typeof window.liveSettings.detectlang==="string")window.liveSettings.detectlang=window.liveSettings.detectlang|
0;if(window.liveSettings.prerender)window.prerenderReady=false;function wrapError(err){if(err&&err.message)err.message="TXLive: "+err.message;return err}if(!window.Raven){!function(a,b){function c(a,b){var c,d;b=b||{},a="raven"+a.substr(0,1).toUpperCase()+a.substr(1),document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=document.createEventObject(),c.eventType=a);for(d in b)l(b,d)&&(c[d]=b[d]);if(document.createEvent)document.dispatchEvent(c);else try{document.fireEvent("on"+
c.eventType.toLowerCase(),c)}catch(e){}}function d(a){this.name="RavenConfigError",this.message=a}function e(a){var b=V.exec(a),c={},e=7;try{for(;e--;)c[U[e]]=b[e]||""}catch(f){throw new d("Invalid DSN: "+a);}if(c.pass)throw new d("Do not specify your private key in the DSN!");return c}function f(a){return"undefined"==typeof a}function g(a){return"function"==typeof a}function h(a){return"string"==typeof a}function i(a){return"object"==typeof a&&null!==a}function j(a){for(var b in a)return!1;return!0}
function k(a){return i(a)&&"[object Error]"===R.toString.call(a)||a instanceof Error}function l(a,b){return R.hasOwnProperty.call(a,b)}function m(a,b){var c,d;if(f(a.length))for(c in a)l(a,c)&&b.call(null,c,a[c]);else if(d=a.length)for(c=0;d>c;c++)b.call(null,c,a[c])}function n(){M="?sentry_version=4&sentry_client=raven-js/"+T.VERSION+"&sentry_key="+K}function o(a,b){var d=[];a.stack&&a.stack.length&&m(a.stack,function(a,b){var c=p(b);c&&d.push(c)}),c("handle",{stackInfo:a,options:b}),r(a.name,a.message,
a.url,a.lineno,d,b)}function p(a){if(a.url){var b,c={filename:a.url,lineno:a.line,colno:a.column,"function":a.func||"?"},d=q(a);if(d){var e=["pre_context","context_line","post_context"];for(b=3;b--;)c[e[b]]=d[b]}return c.in_app=!(!P.includePaths.test(c.filename)||/(Raven|TraceKit)\./.test(c["function"])||/raven\.(min\.)?js$/.test(c.filename)),c}}function q(a){if(a.context&&P.fetchContext){for(var b=a.context,c=~~(b.length/2),d=b.length,e=!1;d--;)if(b[d].length>300){e=!0;break}if(e){if(f(a.column))return;
return[[],b[c].substr(a.column,50),[]]}return[b.slice(0,c),b[c],b.slice(c+1)]}}function r(a,b,c,d,e,f){var g,h;b+="",("Error"!==a||b)&&(P.ignoreErrors.test(b)||(e&&e.length?(c=e[0].filename||c,e.reverse(),g={frames:e}):c&&(g={frames:[{filename:c,lineno:d,in_app:!0}]}),b=t(b,P.maxMessageLength),P.ignoreUrls&&P.ignoreUrls.test(c)||(!P.whitelistUrls||P.whitelistUrls.test(c))&&(h=d?b+" at "+d:b,w(s({exception:{type:a,value:b},stacktrace:g,culprit:c,message:h},f)))))}function s(a,b){return b?(m(b,function(b,
c){a[b]=c}),a):a}function t(a,b){return a.length<=b?a:a.substr(0,b)+"\u00e2\u20ac\u00a6"}function u(){return+new Date}function v(){var a={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(a.headers.Referer=document.referrer),a}function w(a){y()&&(a=s({project:L,logger:P.logger,platform:"javascript",request:v()},a),a.tags=s(s({},P.tags),a.tags),a.extra=s(s({},P.extra),a.extra),a.extra=s({"session:duration":u()-S},a.extra),j(a.tags)&&delete a.tags,J&&
(a.user=J),P.release&&(a.release=P.release),g(P.dataCallback)&&(a=P.dataCallback(a)),(!g(P.shouldSendCallback)||P.shouldSendCallback(a))&&(H=a.event_id||(a.event_id=A()),x(a)))}function x(a){var b=new Image,d=I+M+"&sentry_data="+encodeURIComponent(JSON.stringify(a));b.crossOrigin="anonymous",b.onload=function(){c("success",{data:a,src:d})},b.onerror=b.onabort=function(){c("failure",{data:a,src:d})},b.src=d}function y(){return O?I?!0:(B("error","Error: Raven has not been configured."),!1):!1}function z(a){for(var b,
c=[],d=0,e=a.length;e>d;d++)b=a[d],h(b)?c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")}function A(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}function B(b,c){a.console&&console[b]&&T.debug&&console[b](c)}function C(){var b=a.RavenConfig;b&&T.config(b.dsn,b.config).install()}var D={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},
E=[].slice,F="?";D.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw D.report(b),b;}}return b},D.report=function(){function c(a){h(),o.push(a)}function d(a){for(var b=o.length-1;b>=0;--b)o[b]===a&&o.splice(b,1)}function e(){i(),o=[]}function f(a,b){var c=null;if(!b||D.collectWindowErrors){for(var d in o)if(l(o,d))try{o[d].apply(null,[a].concat(E.call(arguments,2)))}catch(e){c=e}if(c)throw c;}}function g(a,b,c,d,e){var g=null;if(r)D.computeStackTrace.augmentStackTraceWithInitialElement(r,
b,c,a),j();else if(e)g=D.computeStackTrace(e),f(g,!0);else{var h={url:b,line:c,column:d};h.func=D.computeStackTrace.guessFunctionName(h.url,h.line),h.context=D.computeStackTrace.gatherContext(h.url,h.line),g={message:a,url:document.location.href,stack:[h]},f(g,!0)}return m?m.apply(this,arguments):!1}function h(){n||(m=a.onerror,a.onerror=g,n=!0)}function i(){n&&(a.onerror=m,n=!1,m=b)}function j(){var a=r,b=p;p=null,r=null,q=null,f.apply(null,[a,!1].concat(b))}function k(b,c){var d=E.call(arguments,
1);if(r){if(q===b)return;j()}var e=D.computeStackTrace(b);if(r=e,q=b,p=d,a.setTimeout(function(){q===b&&j()},e.incomplete?2E3:0),c!==!1)throw b;}var m,n,o=[],p=null,q=null,r=null;return k.subscribe=c,k.unsubscribe=d,k.uninstall=e,k}(),D.computeStackTrace=function(){function b(b){if(!D.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},d=c();return d.open("GET",b,!1),d.send(""),d.responseText}catch(e){return""}}function c(a){if(!h(a))return[];
if(!l(u,a)){var c="";-1!==a.indexOf(document.domain)&&(c=b(a)),u[a]=c?c.split("\n"):[]}return u[a]}function d(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,g=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,h="",i=10,j=c(a);if(!j.length)return F;for(var k=0;i>k;++k)if(h=j[b-k]+h,!f(h)){if(d=g.exec(h))return d[1];if(d=e.exec(h))return d[1]}return F}function e(a,b){var d=c(a);if(!d.length)return null;var e=[],g=Math.floor(D.linesOfContext/2),h=g+D.linesOfContext%2,i=Math.max(0,b-g-1),
j=Math.min(d.length,b+h-1);b-=1;for(var k=i;j>k;++k)f(d[k])||e.push(d[k]);return e.length>0?e:null}function g(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function i(a){return g(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function j(a,b){for(var d,e,f=0,g=b.length;g>f;++f)if((d=c(b[f])).length&&(d=d.join("\n"),e=a.exec(d)))return{url:b[f],line:d.substring(0,e.index).split("\n").length,column:e.index-
d.lastIndexOf("\n",e.index)-1};return null}function k(a,b,d){var e,f=c(b),h=new RegExp("\\b"+g(a)+"\\b");return d-=1,f&&f.length>d&&(e=h.exec(f[d]))?e.index:null}function m(b){for(var c,d,e,f,h=[a.location.href],k=document.getElementsByTagName("script"),l=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<k.length;++o){var p=k[o];p.src&&h.push(p.src)}if(e=m.exec(l)){var q=e[1]?"\\s+"+e[1]:"",r=
e[2].split(",").join("\\s*,\\s*");c=g(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(g(l).replace(/\s+/g,"\\s+"));if(f=j(d,h))return f;if(e=n.exec(l)){var s=e[1];if(c=i(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=j(d,h[0]))return f;if(d=new RegExp(c),f=j(d,h))return f}return null}function n(a){if(!a.stack)return null;for(var b,c,g=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,
h=/^\s*(.*?)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,i=a.stack.split("\n"),j=[],l=/^(.*) is undefined$/.exec(a.message),m=0,n=i.length;n>m;++m){if(b=h.exec(i[m]))c={url:b[3],func:b[1]||F,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else{if(!(b=g.exec(i[m])))continue;c={url:b[2],func:b[1]||F,line:+b[3],column:b[4]?+b[4]:null}}!c.func&&c.line&&(c.func=d(c.url,c.line)),c.line&&(c.context=e(c.url,c.line)),j.push(c)}return j.length?(j[0].line&&!j[0].column&&
l?j[0].column=k(l[1],j[0].url,j[0].line):j[0].column||f(a.columnNumber)||(j[0].column=a.columnNumber+1),{name:a.name,message:a.message,url:document.location.href,stack:j}):null}function o(a){for(var b,c=a.stacktrace,f=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,g=c.split("\n"),h=[],i=0,j=g.length;j>i;i+=2)if(b=f.exec(g[i])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=d(k.url,k.line)),
k.line)try{k.context=e(k.url,k.line)}catch(l){}k.context||(k.context=[g[i+1]]),h.push(k)}return h.length?{name:a.name,message:a.message,url:document.location.href,stack:h}:null}function p(b){var f=b.message.split("\n");if(f.length<4)return null;var g,h,k,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),
s=[];for(h in r)l(r,h)&&!r[h].src&&s.push(r[h]);for(h=2,k=f.length;k>h;h+=2){var t=null;if(g=n.exec(f[h]))t={url:g[2],func:g[3],line:+g[1]};else if(g=o.exec(f[h])){t={url:g[3],func:g[4]};var u=+g[1],v=s[g[2]-1];if(v&&(m=c(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(g=p.exec(f[h])){var x=a.location.href.replace(/#.*$/,""),y=g[1],z=new RegExp(i(f[h+1]));m=j(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=d(t.url,t.line));
var A=e(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===f[h+1].replace(/^\s*/,"")?A:[f[h+1]],q.push(t)}}return q.length?{name:b.name,message:f[0],url:document.location.href,stack:q}:null}function q(a,b,c,f){var g={url:b,line:c};if(g.url&&g.line){a.incomplete=!1,g.func||(g.func=d(g.url,g.line)),g.context||(g.context=e(g.url,g.line));var h=/ '([^']+)' /.exec(f);if(h&&(g.column=k(h[1],g.url,g.line)),a.stack.length>0&&a.stack[0].url===g.url){if(a.stack[0].line===g.line)return!1;
if(!a.stack[0].line&&a.stack[0].func===g.func)return a.stack[0].line=g.line,a.stack[0].context=g.context,!1}return a.stack.unshift(g),a.partial=!0,!0}return a.incomplete=!0,!1}function r(a,b){for(var c,e,f,g=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,h=[],i={},j=!1,l=r.caller;l&&!j;l=l.caller)if(l!==s&&l!==D.report){if(e={url:null,func:F,line:null,column:null},l.name?e.func=l.name:(c=g.exec(l.toString()))&&(e.func=c[1]),f=m(l)){e.url=f.url,e.line=f.line,e.func===F&&(e.func=
d(e.url,e.line));var n=/ '([^']+)' /.exec(a.message||a.description);n&&(e.column=k(n[1],f.url,f.line))}i[""+l]?j=!0:i[""+l]=!0,h.push(e)}b&&h.splice(0,b);var o={name:a.name,message:a.message,url:document.location.href,stack:h};return q(o,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),o}function s(a,b){var c=null;b=null==b?0:+b;try{if(c=o(a))return c}catch(d){if(t)throw d;}try{if(c=n(a))return c}catch(d){if(t)throw d;}try{if(c=p(a))return c}catch(d){if(t)throw d;}try{if(c=r(a,
b+1))return c}catch(d){if(t)throw d;}return{}}var t=!1,u={};return s.augmentStackTraceWithInitialElement=q,s.computeStackTraceFromStackProp=n,s.guessFunctionName=d,s.gatherContext=e,s}();var G,H,I,J,K,L,M,N=a.Raven,O=!("object"!=typeof JSON||!JSON.stringify),P={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},maxMessageLength:100,extra:{}},Q=!1,R=Object.prototype,S=u(),T={VERSION:"1.1.18",debug:!0,noConflict:function(){return a.Raven=
N,T},config:function(a,b){if(I)return B("error","Error: Raven has already been configured"),T;if(!a)return T;var c=e(a),d=c.path.lastIndexOf("/"),f=c.path.substr(1,d);return b&&m(b,function(a,b){P[a]=b}),P.ignoreErrors.push(/^Script error\.?$/),P.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),P.ignoreErrors=z(P.ignoreErrors),P.ignoreUrls=P.ignoreUrls.length?z(P.ignoreUrls):!1,P.whitelistUrls=P.whitelistUrls.length?z(P.whitelistUrls):!1,P.includePaths=z(P.includePaths),K=c.user,
L=c.path.substr(d+1),I="//"+c.host+(c.port?":"+c.port:"")+"/"+f+"api/"+L+"/store/",c.protocol&&(I=c.protocol+":"+I),P.fetchContext&&(D.remoteFetching=!0),P.linesOfContext&&(D.linesOfContext=P.linesOfContext),D.collectWindowErrors=!!P.collectWindowErrors,n(),T},install:function(){return y()&&!Q&&(D.report.subscribe(o),Q=!0),T},context:function(a,c,d){return g(a)&&(d=c||[],c=a,a=b),T.wrap(a,c).apply(this,d)},wrap:function(a,c){function d(){for(var b=[],d=arguments.length,e=!a||a&&a.deep!==!1;d--;)b[d]=
e?T.wrap(a,arguments[d]):arguments[d];try{return c.apply(this,b)}catch(f){throw T.captureException(f,a),f;}}if(f(c)&&!g(a))return a;if(g(a)&&(c=a,a=b),!g(c))return c;if(c.__raven__)return c;for(var e in c)l(c,e)&&(d[e]=c[e]);return d.__raven__=!0,d.__inner__=c,d},uninstall:function(){return D.report.uninstall(),Q=!1,T},captureException:function(a,b){if(!k(a))return T.captureMessage(a,b);G=a;try{D.report(a,b)}catch(c){if(a!==c)throw c;}return T},captureMessage:function(a,b){return P.ignoreErrors.test&&
P.ignoreErrors.test(a)?void 0:(w(s({message:a+""},b)),T)},setUserContext:function(a){return J=a,T},setExtraContext:function(a){return P.extra=a||{},T},setTagsContext:function(a){return P.tags=a||{},T},setReleaseContext:function(a){return P.release=a,T},lastException:function(){return G},lastEventId:function(){return H},isSetup:function(){return y()}};T.setUser=T.setUserContext;var U="source protocol user pass host port path".split(" "),V=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;
d.prototype=new Error,d.prototype.constructor=d,C(),"function"==typeof define&&define.amd?(a.Raven=T,define("raven",[],function(){return T})):"object"==typeof module?module.exports=T:"object"==typeof exports?exports=T:a.Raven=T}(window);Raven.config("https://7569be2778c0403186b7f224b35b68ed@app.getsentry.com/17391",{collectWindowErrors:false,whitelistUrls:[],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader",
"jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i],dataCallback:function(data){data.extra=
TXLIVE.raven_extra;return data},shouldSendCallback:function(data){if(data&&data.message&&data.message.length)return data.message.indexOf("TXLive:")>=0||data.message.indexOf("TXBridge:")>=0;return true}}).install()}if(window.liveSettings.api_key)Raven.setUser({id:window.liveSettings.api_key});else if(TXLIVE.user)Raven.setUser({id:TXLIVE.user.username,email:TXLIVE.user.email});if(window.liveSettings.parse_attr&&window.liveSettings.parse_attr.length)for(var i=0;i<window.liveSettings.parse_attr.length;++i)window.liveSettings.parse_attr[i]=
window.liveSettings.parse_attr[i].toLowerCase();(function(){try{var css=".txlive {display: none;}\n";css+="@-webkit-keyframes txlivenodeinserted {\n";css+="  from {opacity:inherit;}\n";css+="  to {opacity:inherit;}\n";css+="}\n";css+="@-moz-keyframes txlivenodeinserted {\n";css+="  from {opacity:inherit;}\n";css+="  to {opacity:inherit;}\n";css+="}\n";css+="@-ms-keyframes txlivenodeinserted {\n";css+="  from {opacity:inherit;}\n";css+="  to {opacity:inherit;}\n";css+="}\n";css+="@-o-keyframes txlivenodeinserted {\n";
css+="  from {opacity:inherit;}\n";css+="  to {opacity:inherit;}\n";css+="}\n";css+="@keyframes txlivenodeinserted {\n";css+="  from {opacity:inherit;}\n";css+="  to {opacity:inherit;}\n";css+="}\n";css+=".txlive-dynamic {animation: txlivenodeinserted 0.001s; -webkit-animation: txlivenodeinserted 0.001s;}";var head=document.head||document.getElementsByTagName("head")[0];var style=document.createElement("style");style.type="text/css";if(style.styleSheet)style.styleSheet.cssText=css;else style.appendChild(document.createTextNode(css));
head.appendChild(style)}catch(err){Raven.captureException(wrapError(err))}})();function showDom(){try{var el=null;if(document.getElementsByClassName)el=document.getElementsByClassName("txlive");else el=document.getElementsByTagName("*");if(el&&el.length){var i=el.length;while(i--)el[i].className=(el[i].className||"").replace(/(?:^|\s)txlive(?!\S)/g,"")}}catch(err){Raven.captureException(wrapError(err))}}function bindReady(handler){var called=false;function ready(){if(called)return;called=true;handler()}
if(document.addEventListener)document.addEventListener("DOMContentLoaded",ready,false);else if(document.attachEvent){try{var isFrame=window.frameElement!=null}catch(e){}if(document.documentElement.doScroll&&!isFrame){function tryScroll(){if(called)return;try{document.documentElement.doScroll("left");ready()}catch(e){setTimeout(tryScroll,10)}}tryScroll()}document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete")ready()})}if(window.addEventListener)window.addEventListener("load",
ready,false);else if(window.attachEvent)window.attachEvent("onload",ready);else{var fn=window.onload;window.onload=function(){fn&&fn();ready()}}}if(typeof JSON!=="object")JSON={};(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};
String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?
'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function")value=value.toJSON(key);if(typeof rep==="function")value=rep.call(holder,key,value);switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";
case "boolean":case "null":return String(value);case "object":if(!value)return"null";gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1)partial[i]=str(i,value)||"null";v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1)if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v)partial.push(quote(k)+
(gap?": ":":")+v)}}else for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v)}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function")JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number")for(i=0;i<space;i+=1)indent+=" ";else if(typeof space==="string")indent=space;rep=replacer;if(replacer&&
typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number"))throw new Error("JSON.stringify");return str("",{"":value})};if(typeof JSON.parse!=="function")JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object")for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined)value[k]=v;else delete value[k]}return reviver.call(holder,key,value)}text=String(text);
cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse");}})();function callFunctionArray(fcallarray,param){if(!fcallarray)return;
for(var i=0;i<fcallarray.length;++i)try{fcallarray[i](param)}catch(err){Raven.captureException(wrapError(err))}}function removeFromFunctionArray(fcallarray,fcall){if(!fcallarray)return;try{var index=fcallarray.indexOf(fcall);if(index>=0)fcallarray.splice(index,1)}catch(err){Raven.captureException(wrapError(err))}}function isFunction(obj){return typeof obj==="function"}function isString(obj){return typeof obj==="string"}if(!String.prototype.trim)String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")};TXLIVE.loadScript=function(url,callback){if(url.indexOf("//")==0)if(/PhantomJS/.test(navigator.userAgent))url="http:"+url;else if(window.location.protocol)url=window.location.protocol+url;var script=document.createElement("script");script.type="text/javascript";if(script.readyState)script.onreadystatechange=function(){if(script.readyState==="loaded"||script.readyState==="complete"){script.onreadystatechange=null;if(callback)callback()}};else{script.onload=function(){if(callback)callback()};script.onerror=
function(){if(callback)callback();callFunctionArray(TXLIVE.__onerror,"[ERR1] Cannot load remote url: "+url)}}script.src=url;document.getElementsByTagName("head")[0].appendChild(script)};function getBrowserLocale(){if(navigator.languages&&navigator.languages.length)for(var i=0;i<navigator.languages.length;++i){var code=TXLIVE.matchLanguageCode(navigator.languages[i]);if(code)return code}if(navigator.userLanguage){var code=TXLIVE.matchLanguageCode(navigator.userLanguage);if(code)return code}if(navigator.language){var code=
TXLIVE.matchLanguageCode(navigator.language);if(code)return code}return null}function mergeArrays(array1,array2){var i=array2.length,a;while(i--){a=array2[i];if(array1.indexOf(a)<0)array1.push(a)}}function encodeString(str){return str.replace(/\u00a0/g,"&nbsp;")}function decodeString(str){return str.replace(/&nbsp;/g,"\u00a0")}function stripWhitespace(str){if(!str||!str.trim().length)return null;return encodeString(str).replace(/\s+/g," ").trim()}function getElementsByClassName(node,classname){if(!node)return[];
var a=[];var re=new RegExp("(^| )"+classname+"( |$)");var els=node.getElementsByTagName("*");for(var i=0,j=els.length;i<j;i++)if(re.test(els[i].className))a.push(els[i]);return a}function bindClick(node,fn){if(node.addEventListener)node.addEventListener("click",function(){fn&&fn(node)});else node.attachEvent("onclick",function(){fn&&fn(node)})}function hasClass(node,cls){return(" "+node.className+" ").indexOf(" "+cls+" ")>=0}function removeClass(node,cls){if(hasClass(node,cls)){var reg=new RegExp("(\\s|^)"+
cls+"(\\s|$)");node.className=node.className.replace(reg," ")}}function addClass(node,cls){if(!hasClass(node,cls)&&node.className!=undefined&&node.className.baseVal==undefined)node.className=(node.className||"")+" "+cls}function doCORSRequest(url,method,data,callback,errback){var req;if(window.XMLHttpRequest){req=new XMLHttpRequest;if("withCredentials"in req){req.open(method,url,true);if(errback)req.onerror=errback;req.onreadystatechange=function(){if(req.readyState===4)if(req.status>=200&&req.status<
400)callback&&callback(req.responseText);else errback&&errback(new Error("doCORSRequest failed with status "+req.status+" for: "+window.location.href),req.status)};req.send(data)}}else if(window.XDomainRequest){req=new XDomainRequest;req.open(method,url);if(errback)req.onerror=errback;req.onload=function(){callback&&callback(req.responseText)};req.send(data)}else errback&&errback(new Error("doCORSRequest: CORS not supported by browser"))}TXLIVE.md5=function(){var rotateLeft=function(lValue,iShiftBits){return lValue<<
iShiftBits|lValue>>>32-iShiftBits};var addUnsigned=function(lX,lY){var lX4,lY4,lX8,lY8,lResult;lX8=lX&2147483648;lY8=lY&2147483648;lX4=lX&1073741824;lY4=lY&1073741824;lResult=(lX&1073741823)+(lY&1073741823);if(lX4&lY4)return lResult^2147483648^lX8^lY8;if(lX4|lY4)if(lResult&1073741824)return lResult^3221225472^lX8^lY8;else return lResult^1073741824^lX8^lY8;else return lResult^lX8^lY8};var F=function(x,y,z){return x&y|~x&z};var G=function(x,y,z){return x&z|y&~z};var H=function(x,y,z){return x^y^z};
var I=function(x,y,z){return y^(x|~z)};var FF=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(F(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var GG=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(G(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var HH=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(H(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var II=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(I(b,c,
d),x),ac));return addUnsigned(rotateLeft(a,s),b)};var convertToWordArray=function(string){var lWordCount;var lMessageLength=string.length;var lNumberOfWordsTempOne=lMessageLength+8;var lNumberOfWordsTempTwo=(lNumberOfWordsTempOne-lNumberOfWordsTempOne%64)/64;var lNumberOfWords=(lNumberOfWordsTempTwo+1)*16;var lWordArray=Array(lNumberOfWords-1);var lBytePosition=0;var lByteCount=0;while(lByteCount<lMessageLength){lWordCount=(lByteCount-lByteCount%4)/4;lBytePosition=lByteCount%4*8;lWordArray[lWordCount]=
lWordArray[lWordCount]|string.charCodeAt(lByteCount)<<lBytePosition;lByteCount++}lWordCount=(lByteCount-lByteCount%4)/4;lBytePosition=lByteCount%4*8;lWordArray[lWordCount]=lWordArray[lWordCount]|128<<lBytePosition;lWordArray[lNumberOfWords-2]=lMessageLength<<3;lWordArray[lNumberOfWords-1]=lMessageLength>>>29;return lWordArray};var wordToHex=function(lValue){var WordToHexValue="",WordToHexValueTemp="",lByte,lCount;for(lCount=0;lCount<=3;lCount++){lByte=lValue>>>lCount*8&255;WordToHexValueTemp="0"+
lByte.toString(16);WordToHexValue=WordToHexValue+WordToHexValueTemp.substr(WordToHexValueTemp.length-2,2)}return WordToHexValue};var uTF8Encode=function(string){string=string.replace(/\x0d\x0a/g,"\n");var output="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128)output+=String.fromCharCode(c);else if(c>127&&c<2048){output+=String.fromCharCode(c>>6|192);output+=String.fromCharCode(c&63|128)}else{output+=String.fromCharCode(c>>12|224);output+=String.fromCharCode(c>>6&63|128);output+=
String.fromCharCode(c&63|128)}}return output};return function(string){var x=Array();var k,AA,BB,CC,DD,a,b,c,d;var S11=7,S12=12,S13=17,S14=22;var S21=5,S22=9,S23=14,S24=20;var S31=4,S32=11,S33=16,S34=23;var S41=6,S42=10,S43=15,S44=21;string=uTF8Encode(string);x=convertToWordArray(string);a=1732584193;b=4023233417;c=2562383102;d=271733878;for(k=0;k<x.length;k+=16){AA=a;BB=b;CC=c;DD=d;a=FF(a,b,c,d,x[k+0],S11,3614090360);d=FF(d,a,b,c,x[k+1],S12,3905402710);c=FF(c,d,a,b,x[k+2],S13,606105819);b=FF(b,c,
d,a,x[k+3],S14,3250441966);a=FF(a,b,c,d,x[k+4],S11,4118548399);d=FF(d,a,b,c,x[k+5],S12,1200080426);c=FF(c,d,a,b,x[k+6],S13,2821735955);b=FF(b,c,d,a,x[k+7],S14,4249261313);a=FF(a,b,c,d,x[k+8],S11,1770035416);d=FF(d,a,b,c,x[k+9],S12,2336552879);c=FF(c,d,a,b,x[k+10],S13,4294925233);b=FF(b,c,d,a,x[k+11],S14,2304563134);a=FF(a,b,c,d,x[k+12],S11,1804603682);d=FF(d,a,b,c,x[k+13],S12,4254626195);c=FF(c,d,a,b,x[k+14],S13,2792965006);b=FF(b,c,d,a,x[k+15],S14,1236535329);a=GG(a,b,c,d,x[k+1],S21,4129170786);
d=GG(d,a,b,c,x[k+6],S22,3225465664);c=GG(c,d,a,b,x[k+11],S23,643717713);b=GG(b,c,d,a,x[k+0],S24,3921069994);a=GG(a,b,c,d,x[k+5],S21,3593408605);d=GG(d,a,b,c,x[k+10],S22,38016083);c=GG(c,d,a,b,x[k+15],S23,3634488961);b=GG(b,c,d,a,x[k+4],S24,3889429448);a=GG(a,b,c,d,x[k+9],S21,568446438);d=GG(d,a,b,c,x[k+14],S22,3275163606);c=GG(c,d,a,b,x[k+3],S23,4107603335);b=GG(b,c,d,a,x[k+8],S24,1163531501);a=GG(a,b,c,d,x[k+13],S21,2850285829);d=GG(d,a,b,c,x[k+2],S22,4243563512);c=GG(c,d,a,b,x[k+7],S23,1735328473);
b=GG(b,c,d,a,x[k+12],S24,2368359562);a=HH(a,b,c,d,x[k+5],S31,4294588738);d=HH(d,a,b,c,x[k+8],S32,2272392833);c=HH(c,d,a,b,x[k+11],S33,1839030562);b=HH(b,c,d,a,x[k+14],S34,4259657740);a=HH(a,b,c,d,x[k+1],S31,2763975236);d=HH(d,a,b,c,x[k+4],S32,1272893353);c=HH(c,d,a,b,x[k+7],S33,4139469664);b=HH(b,c,d,a,x[k+10],S34,3200236656);a=HH(a,b,c,d,x[k+13],S31,681279174);d=HH(d,a,b,c,x[k+0],S32,3936430074);c=HH(c,d,a,b,x[k+3],S33,3572445317);b=HH(b,c,d,a,x[k+6],S34,76029189);a=HH(a,b,c,d,x[k+9],S31,3654602809);
d=HH(d,a,b,c,x[k+12],S32,3873151461);c=HH(c,d,a,b,x[k+15],S33,530742520);b=HH(b,c,d,a,x[k+2],S34,3299628645);a=II(a,b,c,d,x[k+0],S41,4096336452);d=II(d,a,b,c,x[k+7],S42,1126891415);c=II(c,d,a,b,x[k+14],S43,2878612391);b=II(b,c,d,a,x[k+5],S44,4237533241);a=II(a,b,c,d,x[k+12],S41,1700485571);d=II(d,a,b,c,x[k+3],S42,2399980690);c=II(c,d,a,b,x[k+10],S43,4293915773);b=II(b,c,d,a,x[k+1],S44,2240044497);a=II(a,b,c,d,x[k+8],S41,1873313359);d=II(d,a,b,c,x[k+15],S42,4264355552);c=II(c,d,a,b,x[k+6],S43,2734768916);
b=II(b,c,d,a,x[k+13],S44,1309151649);a=II(a,b,c,d,x[k+4],S41,4149444226);d=II(d,a,b,c,x[k+11],S42,3174756917);c=II(c,d,a,b,x[k+2],S43,718787259);b=II(b,c,d,a,x[k+9],S44,3951481745);a=addUnsigned(a,AA);b=addUnsigned(b,BB);c=addUnsigned(c,CC);d=addUnsigned(d,DD)}var tempValue=wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);return tempValue.toLowerCase()}}();var tx_local_storage={};function _storage_set_emu(key,value){tx_local_storage[key]=value}function _storage_get_emu(key){return tx_local_storage[key]}
function _storage_set_localStorage(key,value){try{window.localStorage.setItem(key,JSON.stringify(value))}catch(err){Raven.captureException(wrapError(err));_storage_set_emu(key,value)}}function _storage_get_localStorage(key){try{var value=window.localStorage.getItem(key);if(value)return JSON.parse(value);return null}catch(err){Raven.captureException(wrapError(err));return _storage_get_emu(key)}}function _storage_set_sessionStorage(key,value){try{window.sessionStorage.setItem(key,JSON.stringify(value))}catch(err){Raven.captureException(wrapError(err));
_storage_set_emu(key,value)}}function _storage_get_sessionStorage(key){try{var value=window.sessionStorage.getItem(key);if(value)return JSON.parse(value);return null}catch(err){Raven.captureException(wrapError(err));return _storage_get_emu(key)}}var storage_set=_storage_set_emu;var storage_get=_storage_get_emu;try{if(window.localStorage&&window.localStorage.setItem){window.localStorage.setItem("txlive","1");storage_set=_storage_set_localStorage;storage_get=_storage_get_localStorage;TXLIVE.autocollect_enabled=
window.liveSettings.autocollect}}catch(err){try{if(window.sessionStorage&&window.sessionStorage.setItem){window.sessionStorage.setItem("txlive","1");storage_set=_storage_set_sessionStorage;storage_get=_storage_get_sessionStorage;TXLIVE.autocollect_enabled=window.liveSettings.autocollect}}catch(err){}}var added_picker_css=false;function addPicker(picker){if(!added_picker_css){added_picker_css=true;try{var css=".txlive-langselector { position:fixed;z-index:999999;min-width: 120px;line-height:32px;background-color:rgba( 0,0,0,0.75 );box-shadow: 0 0 4px rgba( 0,0,0,0.3 );color: #fff;font-size: 14px;font-family: inherit; }";
css+=".txlive-langselector * { margin: 0;padding: 0;border: 0;font-size: 100%;font: inherit;vertical-align: baseline;border-radius: 0;-moz-border-radius:0;-webkit-border-radius:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-border-radius:0;opacity:1; }";css+=".txlive-langselector.txlive-langselector-topleft { top:0;left:0;right:auto;bottom:auto;border-radius: 0 0 2px 0;-moz-border-radius: 0 0 2px 0;-webkit-border-radius: 0 0 2px 0; }";css+=".txlive-langselector.txlive-langselector-topright { top:0;left:auto;right:0;bottom:auto;border-radius: 0 2px 0 0;-moz-border-radius: 0 2px 0 0;-webkit-border-radius: 0 2px 0 0; }";
css+=".txlive-langselector.txlive-langselector-bottomleft { top:auto;left:0;right:auto;bottom:0;border-radius: 0 2px 0 0;-moz-border-radius: 0 2px 0 0;-webkit-border-radius: 0 2px 0 0; }";css+=".txlive-langselector.txlive-langselector-bottomright { top:auto;left:auto;right:0;bottom:0;border-radius: 2px 0 0 0;-moz-border-radius: 2px 0 0 0;-webkit-border-radius: 2px 0 0 0; }";css+=".txlive-langselector .txlive-langselector-toggle { overflow: hidden;display: block;padding:2px 16px;width: 100%;height:36px;cursor:pointer;cursor:hand; }";
css+=".txlive-langselector.txlive-langselector-topleft .txlive-langselector-toggle { overflow: hidden;display: block;border-top:2px solid #006f9f;padding:2px 16px;height:36px;line-height:32px;cursor:pointer;cursor:hand; }";css+=".txlive-langselector.txlive-langselector-topright .txlive-langselector-toggle { overflow: hidden;display: block;border-top:2px solid #006f9f;padding:2px 16px;height:36px;line-height:32px;cursor:pointer;cursor:hand; }";css+=".txlive-langselector.txlive-langselector-bottomleft .txlive-langselector-toggle { overflow: hidden;display: block;border-bottom:2px solid #006f9f;padding:2px 16px;height:36px;line-height:32px;cursor:pointer;cursor:hand; }";
css+=".txlive-langselector.txlive-langselector-bottomright .txlive-langselector-toggle { overflow: hidden;display: block;border-bottom:2px solid #006f9f;padding:2px 16px;height:36px;line-height:32px;cursor:pointer;cursor:hand; }";css+=".txlive-langselector .txlive-langselector-current { float: left;padding: 0;max-width: 200px;overflow:hidden;white-space: nowrap;text-overflow:ellipsis; }";css+=".txlive-langselector .txlive-langselector-marker { float: right;display: block;position:relative;width:0;height:0;margin-left:8px;margin-top: 13px;border-right:4px dashed transparent;border-left:4px dashed transparent;}";
css+=".txlive-langselector-topright .txlive-langselector-marker,";css+=".txlive-langselector-topleft .txlive-langselector-marker {border-top:4px solid #fff;}";css+=".txlive-langselector-bottomright .txlive-langselector-marker,";css+=".txlive-langselector-bottomleft .txlive-langselector-marker {border-bottom:4px solid #fff;}";css+=".txlive-langselector-list { position:absolute;width: 100%;margin:0;padding:10px 0;display:none;background-color:#eaf1f7;box-shadow: 0 0 4px rgba( 0,0,0,0.3 );color:#666;list-style-type:none; }";
css+=".txlive-langselector-list.txlive-langselector-list-opened { display:block; }";css+=".txlive-langselector-list > li {padding:0 16px;width:100%;overflow:hidden;white-space: nowrap;text-overflow:ellipsis;}";css+=".txlive-langselector-list > li:hover {background-color:#b0b9c1;color:#fff;cursor:pointer;cursor:hand;}";css+=".txlive-langselector-topright > .txlive-langselector-list {top:40px;left:auto;right:0;bottom:auto;border-bottom: 1px solid #f4f7f9;}";css+=".txlive-langselector-topleft > .txlive-langselector-list {top:40px;left:0;right:auto;bottom:auto;border-bottom: 1px solid #f4f7f9;}";
css+=".txlive-langselector-bottomright > .txlive-langselector-list {top:auto;left:auto;right:0;bottom:40px;border-top: 1px solid #f4f7f9;}";css+=".txlive-langselector-bottomleft > .txlive-langselector-list {top:auto;left:0;right:auto;bottom:40px;border-top: 1px solid #f4f7f9;}";css+=".txlive-langselector-topright > .txlive-langselector-list,";css+=".txlive-langselector-bottomright > .txlive-langselector-list {border-radius: 2px 0 0 2px;-moz-border-radius: 2px 0 0 2px;-webkit-border-radius: 2px 0 0 2px;}";
css+=".txlive-langselector-topleft > .txlive-langselector-list,";css+=".txlive-langselector-bottomleft > .txlive-langselector-list {border-radius: 0 2px 2px 0;-moz-border-radius: 0 2px 2px 0;-webkit-border-radius: 0 2px 2px 0;}";var head=document.head||document.getElementsByTagName("head")[0];var style=document.createElement("style");style.type="text/css";if(style.styleSheet)style.styleSheet.cssText=css;else style.appendChild(document.createTextNode(css));head.appendChild(style)}catch(err){Raven.captureException(wrapError(err))}}try{var html=
'<ul id="tx-live-lang-picker" class="txlive-langselector-list">';for(var i=0;i<TXLIVE.denormalized_languages.length;++i){var l=TXLIVE.denormalized_languages[i];html+='<li data-value="'+l.code+'">'+l.name+"</li>"}html+="</ul>";html+='<div class="txlive-langselector-toggle" id="tx-live-lang-toggle"><span class="txlive-langselector-current" id="tx-live-lang-current">'+TXLIVE.languages.source.name+"</span>";html+='<span class="txlive-langselector-marker"></span></div>';if(picker[0]==="#"){var elem=document.getElementById(picker.substr(1));
if(!elem)return;elem.innerHTML=html}else{var div=document.getElementById("tx-live-lang-container");if(!div){div=document.createElement("div");div.id="tx-live-lang-container"}var csstext="txlive-langselector";switch(picker.toLowerCase()){case "top-left":csstext+=" txlive-langselector-topleft";break;case "top-right":csstext+=" txlive-langselector-topright";break;case "bottom-left":csstext+=" txlive-langselector-bottomleft";break;case "bottom-right":csstext+=" txlive-langselector-bottomright";break;
default:return}div.className=csstext;div.innerHTML=html;document.body.appendChild(div)}var el=document.getElementById("tx-live-lang-toggle");var open_class="txlive-langselector-list-opened";function is_picker_open(){var toggler=document.getElementById("tx-live-lang-picker");return toggler&&toggler.className.indexOf(open_class)>=0}function open_picker(){var toggler=document.getElementById("tx-live-lang-picker");if(toggler)toggler.className+=" "+open_class}function close_picker(){var toggler=document.getElementById("tx-live-lang-picker");
if(toggler)toggler.className=toggler.className.replace(open_class,"")}function pick_lang(element){close_picker();if(element&&element.getAttribute){lang=element.getAttribute("data-value");lang&&pickLanguage(lang)}}if(el)bindClick(el,function(){is_picker_open()?close_picker():open_picker()});el=document.getElementById("tx-live-lang-picker");if(el){el=el.getElementsByTagName("li")||[];for(var i=0;i<el.length;++i)bindClick(el[i],pick_lang)}}catch(err){Raven.captureException(wrapError(err))}}var PARSER_OPTIONS=
{DEFAULT:1<<2,DO_NOT_COLLECT:1<<1,URLS_AS_VARS:1<<2,set:function(value,option){return value|option},unset:function(value,option){return value&~option},isset:function(value,option){return value&option},isunset:function(value,option){return!(value&option)}};var SKIP_NODES={SCRIPT:true,STYLE:true,LINK:true,IFRAME:true,NOSCRIPT:true,CANVAS:true,SVG:true,AUDIO:true,VIDEO:true,CODE:true,TIME:true,VAR:true,KBD:true};var SKIP_CLASS={"notranslate":true,"txlive-dynamic-processed":true,"txlive-meta":true,"facebook_container":true,
"twitter_container":true};var BLOCK_NODES={ADDRESS:true,FIGCAPTION:true,OL:true,ARTICLE:true,FIGURE:true,OUTPUT:true,ASIDE:true,FOOTER:true,P:true,FORM:true,PRE:true,BLOCKQUOTE:true,H1:true,H2:true,H3:true,H4:true,H5:true,H6:true,AUDIO:true,CANVAS:true,SECTION:true,HEADER:true,TABLE:true,DD:true,HGROUP:true,TFOOT:true,DIV:true,HR:true,UL:true,DL:true,VIDEO:true,FIELDSET:true,NOSCRIPT:true};var NEW_SEGMENTS_LIST=null;var NEW_SEGMENTS_DICT=null;try{if(window.liveSettings.ignore_tags&&window.liveSettings.ignore_tags.length)for(var i=
0;i<window.liveSettings.ignore_tags.length;++i){var tag=(window.liveSettings.ignore_tags[i]||"").toUpperCase();if(tag.length)SKIP_NODES[tag]=true}}catch(err){Raven.captureException(wrapError(err))}try{if(window.liveSettings.ignore_class&&window.liveSettings.ignore_class.length)for(var i=0;i<window.liveSettings.ignore_class.length;++i){var cls=(window.liveSettings.ignore_class[i]||"").toLowerCase();if(cls.length)SKIP_CLASS[cls]=true}}catch(err){Raven.captureException(wrapError(err))}function isBlockElement(node){return node.nodeType===
1&&BLOCK_NODES[node.tagName]===true}function isInlineElement(node){return node.nodeType===1&&BLOCK_NODES[node.tagName]!==true}function isTextElement(node){return node.nodeType===3}function isSkipClass(className){if(!className||!isString(className))return false;var cls_array=className.toLowerCase().match(/\S+/g);if(!cls_array)return false;var i=cls_array.length;while(i--)if(SKIP_CLASS[cls_array[i]])return true;return false}function SET_TEXT(item,text){text=decodeString(text);item.node.nodeValue=item.head+
text+item.tail}function GET_TEXT(item){return item.node.nodeValue}function SET_FRAGMENT(item,text){text=decodeString(text);for(var i=0;i<item.block_args.length;++i){var arg=item.block_args[i];if(arg.type==="VAR")text=text.replace("{{"+i+"}}",arg.html)}var node=item.snode_before?item.snode_before.nextSibling:item.snode_after.parentNode.firstChild;while(node&&node!=item.snode_after){var to_delete=node;node=node.nextSibling;to_delete.parentNode.removeChild(to_delete)}var tmp=document.createElement("div");
tmp.innerHTML=item.head+text+item.tail;var frag=document.createDocumentFragment();var child;while(child=tmp.firstChild)frag.appendChild(child);(item.snode_before||item.snode_after).parentNode.insertBefore(frag,item.snode_after)}function GET_FRAGMENT(item){var node=item.snode_before?item.snode_before.nextSibling:item.snode_after.parentNode.firstChild;var tmp=document.createElement("div");while(node&&node!=item.snode_after){tmp.appendChild(node.cloneNode(true));node=node.nextSibling}return tmp.innerHTML}
function SET_BLOCK(item,text){text=decodeString(text);for(var i=0;i<item.block_args.length;++i){var arg=item.block_args[i];if(arg.type==="VAR")text=text.replace("{{"+i+"}}",arg.html)}item.node.innerHTML=item.head+text+item.tail}function GET_BLOCK(item,text){return item.node.innerHTML}function SET_ATTR(item,text){text=decodeString(text);item.node.setAttribute(item.attribute,item.head+text+item.tail)}function GET_ATTR(item){return item.node.getAttribute(item.attribute)}function PARSE_ARGS(node,args){if(node){do if(node.nodeType===
1)if(SKIP_NODES[node.tagName]||isSkipClass(node.className)){var outerhtml=node.outerHTML;if(outerhtml)args.push({type:"VAR",html:outerhtml})}else PARSE_ARGS(node.firstChild,args);while(node=node.nextSibling)}}function PARSE_VARIABLES(text,node,args,options){PARSE_ARGS(node.firstChild,args);for(var i=0;i<args.length;++i)if(args[i].type==="VAR")text=text.replace(args[i].html,"{{"+i+"}}");if(PARSER_OPTIONS.isset(options,PARSER_OPTIONS.URLS_AS_VARS)&&/\s(src|href)/i.test(text)){var match,regex=/(<a[^>]*href\s*=\s*)("[^"]*"|'[^']*')|(<img[^>]*src\s*=\s*)("[^"]*"|'[^']*')/ig;
var result="",lastIndex=0;while(match=regex.exec(text)){result+=text.substring(lastIndex,match.index);if(match[2]){result+=match[1]+match[2][0]+"{{"+args.length+"}}"+match[2][0];args.push({type:"VAR",html:match[2].substring(1,match[2].length-1)})}else{result+=match[3]+match[4][0]+"{{"+args.length+"}}"+match[4][0];args.push({type:"VAR",html:match[4].substring(1,match[4].length-1)})}lastIndex=regex.lastIndex}result+=text.substring(lastIndex,text.length);text=result}return text}function CRAWL_FRAGMENT(snode_before,
snode_after,tags,options){if((!snode_before||snode_before&&snode_before.txbefore_detected===true)&&(!snode_after||snode_after&&snode_after.txafter_detected===true))return;try{if(snode_before)snode_before.txbefore_detected=true;if(snode_after)snode_after.txafter_detected=true}catch(err){}var node=document.createElement("div");var next=snode_before?snode_before.nextSibling:snode_after.parentNode.firstChild;while(next&&next!=snode_after){node.appendChild(next.cloneNode(true));next=next.nextSibling}var raw_text=
node.innerHTML;var text=stripWhitespace(raw_text);if(!text)return;var args=[];text=PARSE_VARIABLES(text,node,args,options);var key=TXLIVE.md5(text);var segments=TXLIVE.segments;var segment_list=TXLIVE.segment_list;var segment=segments[key];if(!segment){segment={key:key,source_string:text,tags:[],elements:[]};segments[key]=segment;segment_list.push(segment)}if(tags.length)mergeArrays(segment.tags,tags);segment.elements.push({segment:segment,snode_before:snode_before,snode_after:snode_after,set:SET_FRAGMENT,
get:GET_FRAGMENT,block_args:args,head:raw_text.indexOf(" ")==0?" ":"",tail:raw_text.indexOf(" ",raw_text.length-1)>=0?" ":""});if(NEW_SEGMENTS_LIST&&!NEW_SEGMENTS_DICT[key]){NEW_SEGMENTS_LIST.push(segment);NEW_SEGMENTS_DICT[key]=segment}}function CRAWL_BLOCK(node,tags,options){if(node.txblock_detected===true)return;try{node.txblock_detected=true}catch(err){}var raw_text=node.innerHTML;var text=stripWhitespace(raw_text);if(!text)return;var args=[];text=PARSE_VARIABLES(text,node,args,options);var key=
TXLIVE.md5(text);var segments=TXLIVE.segments;var segment_list=TXLIVE.segment_list;var segment=segments[key];if(!segment){segment={key:key,source_string:text,tags:[],elements:[]};segments[key]=segment;segment_list.push(segment)}if(tags.length)mergeArrays(segment.tags,tags);segment.elements.push({segment:segment,node:node,pnode:node,set:SET_BLOCK,get:GET_BLOCK,block_args:args,head:raw_text.indexOf(" ")==0?" ":"",tail:raw_text.indexOf(" ",raw_text.length-1)>=0?" ":""});if(NEW_SEGMENTS_LIST&&!NEW_SEGMENTS_DICT[key]){NEW_SEGMENTS_LIST.push(segment);
NEW_SEGMENTS_DICT[key]=segment}}function CRAWL_TEXT(node,tags){if(node.txtext_detected===true)return;try{node.txtext_detected=true}catch(err){}var raw_text=node.nodeValue;var text=stripWhitespace(raw_text);if(text&&text.length){var key=TXLIVE.md5(text);var segments=TXLIVE.segments;var segment_list=TXLIVE.segment_list;var segment=segments[key];if(!segment){segment={key:key,source_string:text,tags:[],elements:[]};segments[key]=segment;segment_list.push(segment)}if(tags.length)mergeArrays(segment.tags,
tags);segment.elements.push({segment:segment,node:node,pnode:node.parentNode,set:SET_TEXT,get:GET_TEXT,head:raw_text.indexOf(" ")==0?" ":"",tail:raw_text.indexOf(" ",raw_text.length-1)>=0?" ":""});if(NEW_SEGMENTS_LIST&&!NEW_SEGMENTS_DICT[key]){NEW_SEGMENTS_LIST.push(segment);NEW_SEGMENTS_DICT[key]=segment}}}function CRAWL_ATTR(node,attr,tags){var raw_text=node.getAttribute(attr)||"";var text=stripWhitespace(raw_text);if(text&&text.length){var key=TXLIVE.md5(text);var segments=TXLIVE.segments;var segment_list=
TXLIVE.segment_list;var segment=segments[key];if(!segment){segment={key:key,source_string:text,tags:[],elements:[]};segments[key]=segment;segment_list.push(segment)}if(tags.length)mergeArrays(segment.tags,tags);segment.elements.push({segment:segment,node:node,pnode:node.parentNode,set:SET_ATTR,get:GET_ATTR,attribute:attr,head:raw_text.indexOf(" ")==0?" ":"",tail:raw_text.indexOf(" ",raw_text.length-1)>=0?" ":""});if(NEW_SEGMENTS_LIST&&!NEW_SEGMENTS_DICT[key]){NEW_SEGMENTS_LIST.push(segment);NEW_SEGMENTS_DICT[key]=
segment}}}function DETECT_i18n_ATTR(node,options){var list=[];switch(node.tagName){case "A":list.push("title");if(PARSER_OPTIONS.isunset(options,PARSER_OPTIONS.URLS_AS_VARS))list.push("href");break;case "IMG":list.push("title");list.push("alt");if(PARSER_OPTIONS.isunset(options,PARSER_OPTIONS.URLS_AS_VARS))list.push("src");break;case "META":var name=node.getAttribute("name");if(name){name=name.toLowerCase();if(name==="keywords"||name==="description")list.push("content")}break;case "INPUT":list.push("placeholder");
var inputtype=node.getAttribute("type");if(inputtype){inputtype=inputtype.toLowerCase();if(inputtype==="button"||inputtype==="reset"||inputtype==="submit")list.push("value")}break;case "TEXTAREA":list.push("placeholder");break}var custom_attr=node.getAttribute("tx-attrs");if(custom_attr&&custom_attr.length){custom_attr=custom_attr.split(",");var i=custom_attr.length;while(i--){var a=custom_attr[i].trim().toLowerCase();if(a&&list.indexOf(a)<0)list.push(a)}}if(window.liveSettings.parse_attr){var parse_attr=
window.liveSettings.parse_attr;for(var i=0;i<parse_attr.length;++i){var a=parse_attr[i];if(list.indexOf(a)<0)list.push(a)}}return list}function PARSE_ATTR(node,tags,options){if(node.txattr_detected===true)return;try{node.txattr_detected=true}catch(err){}var attrs=DETECT_i18n_ATTR(node,options);for(var i=0;i<attrs.length;++i)CRAWL_ATTR(node,attrs[i],tags)}function IS_IN_DOCUMENT(node){while(node=node.parentNode)if(node===document)return true;return false}function IS_SKIP_PARENT(node){while(node){if(node.nodeType===
1){if(SKIP_NODES[node.tagName]||isSkipClass(node.className))return true;var content_attr=node.getAttribute("tx-content");if(content_attr&&content_attr.length){content_attr=content_attr.toLowerCase();if(/\bexclude\b/.test(content_attr))return true}}node=node.parentNode}return false}function PARSE_DOM(node,parent_tags,options){if(node)if(!(node.tagName&&SKIP_NODES[node.tagName]))if(node.nodeType===3)PARSER_OPTIONS.isunset(options,PARSER_OPTIONS.DO_NOT_COLLECT)&&CRAWL_TEXT(node,parent_tags);else if(node.nodeType===
1&&!isSkipClass(node.className)){var tags=parent_tags;var tag_attr=node.getAttribute("tx-tags");if(tag_attr&&tag_attr.length){tags=parent_tags.slice(0);tag_attr=tag_attr.split(",");var i=tag_attr.length;while(i--){var a=tag_attr[i].trim().toLowerCase();if(a&&a.length&&tags.indexOf(a)<0)tags.push(a)}}var content_attr=node.getAttribute("tx-content");var is_block=false;var _options=options;if(content_attr&&content_attr.length){content_attr=content_attr.toLowerCase();if(/\bexclude\b/.test(content_attr))_options=
PARSER_OPTIONS.set(_options,PARSER_OPTIONS.DO_NOT_COLLECT);else if(/\binclude\b/.test(content_attr))_options=PARSER_OPTIONS.unset(_options,PARSER_OPTIONS.DO_NOT_COLLECT);else if(/\bblock\b/.test(content_attr)){_options=PARSER_OPTIONS.unset(_options,PARSER_OPTIONS.DO_NOT_COLLECT);is_block=true}if(/\bnotranslate_urls\b/.test(content_attr))_options=PARSER_OPTIONS.set(_options,PARSER_OPTIONS.URLS_AS_VARS);else if(/\btranslate_urls\b/.test(content_attr))_options=PARSER_OPTIONS.unset(_options,PARSER_OPTIONS.URLS_AS_VARS)}var _collect=
PARSER_OPTIONS.isunset(_options,PARSER_OPTIONS.DO_NOT_COLLECT);_collect&&PARSE_ATTR(node,tags,_options);if(is_block)_collect&&CRAWL_BLOCK(node,tags,_options);else{var childnode=node.firstChild;while(childnode)if(isBlockElement(childnode)){PARSE_DOM(childnode,tags,_options);childnode=childnode.nextSibling}else{var nextnode=childnode.nextSibling;if(!nextnode||nextnode&&isBlockElement(nextnode)){PARSE_DOM(childnode,tags,_options);childnode=childnode.nextSibling}else{var snode_before=childnode.previousSibling;
var snode_after=null;var snode=childnode;var has_text=false;while(snode){if(isTextElement(snode)&&snode.nodeValue&&snode.nodeValue.trim().length)has_text=true;else if(isBlockElement(snode)){snode_after=snode;break}snode=snode.nextSibling}if(!has_text)while(childnode&&childnode!=snode_after){PARSE_DOM(childnode,tags,_options);childnode=childnode.nextSibling}else if(snode_before||snode_after){_collect&&CRAWL_FRAGMENT(snode_before,snode_after,tags,_options);childnode=snode_after}else{_collect&&CRAWL_BLOCK(node,
tags,_options);childnode=null}}}}if(NEW_SEGMENTS_LIST&&hasClass(node,"txlive-dynamic"))addClass(node,"txlive-dynamic-processed")}}var LAST_TRANSLATION_JSON=null;var LAST_TRANSLATION_LANG=null;function setLocale(langcode){try{document.getElementsByTagName("html")[0].setAttribute("lang",langcode.toLowerCase().replace("_","-"))}catch(err){Raven.captureException(wrapError(err))}}function resetSegments(langcode){mutatorsOff();var segments=TXLIVE.segments;for(var key in segments){var s=segments[key];var j=
s.elements.length;while(j--){var item=s.elements[j];try{item.set(item,s.source_string)}catch(err){}}}setLocale(langcode);LAST_TRANSLATION_JSON=null;LAST_TRANSLATION_LANG=null;callFunctionArray(TXLIVE.__ontranslatepage,langcode);mutatorsOn()}function translateSegments(langcode,json){mutatorsOff();var segments=TXLIVE.segments;for(var key in segments){var s=segments[key];var string=json[key]||s.source_string;var j=s.elements.length;while(j--){var item=s.elements[j];try{item.set(item,string)}catch(err){s.elements.splice(j,
1)}}}setLocale(langcode);LAST_TRANSLATION_JSON=json;LAST_TRANSLATION_LANG=langcode;callFunctionArray(TXLIVE.__ontranslatepage,langcode);mutatorsOn()}function autoCollect(custom_segments){if(!TXLIVE.autocollect_enabled||TXLIVE.autocollected&&!custom_segments)return;TXLIVE.autocollected=!custom_segments;try{var detected=storage_get("detected_entities")||{};var segments=custom_segments||TXLIVE.segments;var new_entities={};var found=false;var published_keys=LAST_TRANSLATION_JSON||{};for(var key in segments){var s=
segments[key];if(s.source_string&&!(key in published_keys)&&!(key in detected)){detected[key]=new_entities[key]={string:s.source_string,tags:s.tags};found=true}}if(!found)return;var json={apikey:window.liveSettings.api_key,host:document.location.hostname,path:document.location.pathname,group:TXLIVE.group,staging:TXLIVE.staging,lib_version:TXLIVE.lib_version,newstrings:new_entities};doCORSRequest(TXLIVE.autocollect_url,"POST",JSON.stringify(json),function(){var previous_detected=storage_get("detected_entities")||
{};for(var key in detected)previous_detected[key]=detected[key];storage_set("detected_entities",previous_detected)},function(err,status_code){if(status_code!==0&&status_code!==404)Raven.captureException(wrapError(err))})}catch(err){Raven.captureException(wrapError(err))}}var timer_mutation=null;var mutation_nodes=[];var observer=null;var mutators_initialized=false;var mutators_on=false;function __proc_mutations__(){timer_mutation=null;var node_list=[];for(var i=0;i<mutation_nodes.length;++i)if(IS_IN_DOCUMENT(mutation_nodes[i]))node_list.push(mutation_nodes[i]);
mutation_nodes=[];if(node_list.length)TXLIVE.translateNodes(node_list)}function __dom_inserted_cb(e){mutation_nodes.push(e.target);if(timer_mutation)clearTimeout(timer_mutation);timer_mutation=setTimeout(__proc_mutations__,0)}function __observer_inserted_cb(mutations){mutations.forEach(function(mutation){for(var i=0;i<mutation.addedNodes.length;++i)mutation_nodes.push(mutation.addedNodes[i])});if(mutation_nodes.length){if(timer_mutation)clearTimeout(timer_mutation);timer_mutation=setTimeout(__proc_mutations__,
0)}}function mutatorsOn(){if(!mutators_initialized||mutators_on)return;mutators_on=true;if(observer)observer.observe(document.body,{childList:true,subtree:true});else document.addEventListener("DOMNodeInserted",__dom_inserted_cb,false)}function mutatorsOff(){if(!mutators_initialized||!mutators_on)return;mutators_on=false;if(observer)observer.disconnect();else document.removeEventListener("DOMNodeInserted",__dom_inserted_cb)}function __init_mutators__(){if(!window.liveSettings.dynamic)return;if(window.MutationObserver)observer=
new MutationObserver(__observer_inserted_cb);mutators_initialized=true;mutatorsOn()}function normalizeLangCode(langcode){if(!langcode)return langcode;langcode=langcode.replace("-","_");var extra=null;if(langcode.indexOf("@")>=0){var tokens=langcode.split("@");langcode=tokens[0];extra=tokens[1]}if(langcode.indexOf("_")>=0){var tokens=langcode.split("_");var lang=tokens[0].toLowerCase();var country=tokens[1].toUpperCase();langcode=lang+"_"+country}else langcode=langcode.toLowerCase();if(extra)langcode+=
"@"+extra;return langcode}function hasTargetLanguage(langcode){if(!TXLIVE.languages)return false;var languages=TXLIVE.languages;for(var i=0;i<languages.translation.length;++i)if(languages.translation[i].code===langcode)return true;return false}function pickLanguage(langcode){try{if(!TXLIVE.languages)return;if(!langcode){__ready__();return}var languages=TXLIVE.languages;if(TXLIVE.selected_lang===langcode)if(languages.source.code===langcode&&!LAST_TRANSLATION_LANG||LAST_TRANSLATION_LANG&&LAST_TRANSLATION_JSON&&
LAST_TRANSLATION_LANG===langcode){__ready__();return}if(languages.source.code===langcode){if(LAST_TRANSLATION_LANG)resetSegments(langcode);__ready__()}else{var lang_url=null;for(var i=0;i<languages.translation.length;++i)if(languages.translation[i].code===langcode){lang_url=languages.translation[i].url;break}if(!lang_url){__ready__();return}var key=langcode+"@"+languages.timestamp;var json=storage_get(key);if(json){translateSegments(langcode,json);__ready__()}else{var lang_loaded=false;window["transifex_lang_"+
langcode]=function(data){lang_loaded=true;storage_set(key,data);if(langcode===TXLIVE.selected_lang){translateSegments(langcode,data);__ready__()}};TXLIVE.loadScript(lang_url,function(){setTimeout(function(){if(!lang_loaded&&TXLIVE.__onerror)callFunctionArray(TXLIVE.__onerror,"[ERR2] Cannot load translation url: "+lang_url);__ready__()},100)})}}storage_set("selected_lang",langcode);TXLIVE.selected_lang=langcode;var elem=document.getElementById("tx-live-lang-current");if(elem)elem.innerHTML=TXLIVE.getLanguageName(langcode)}catch(err){Raven.captureException(wrapError(err))}}
function setLanguages(languages){try{if(!languages||!languages.timestamp||!languages.translation||!languages.source)return;if(TXLIVE.languages&&TXLIVE.languages.timestamp===languages.timestamp)return;if(isString(languages.translation))try{languages.translation=JSON.parse(languages.translation)||[]}catch(err){Raven.captureException(wrapError(err));languages.translation=[]}TXLIVE.denormalized_languages=[{name:languages.source.name,code:languages.source.code,source:true}];for(var i=0;i<languages.translation.length;++i)TXLIVE.denormalized_languages.push({name:languages.translation[i].name,
code:languages.translation[i].code});TXLIVE.languages=languages;if(TXLIVE.selected_lang&&TXLIVE.selected_lang.length&&languages.source.code!==TXLIVE.selected_lang&&!hasTargetLanguage(TXLIVE.selected_lang))resetSegments(languages.source.code);TXLIVE.selected_lang=languages.source.code;callFunctionArray(TXLIVE.__onfetchlanguages,TXLIVE.denormalized_languages);if(!window.liveSettings.picker)return;var picker=window.liveSettings.picker.trim();if(!picker.length)return;mutatorsOff();addPicker(picker);mutatorsOn()}catch(err){Raven.captureException(wrapError(err))}}
function detectLanguage(){try{if(window.liveSettings.detectlang&&isFunction(window.liveSettings.detectlang))return window.liveSettings.detectlang();if(!window.liveSettings.detectlang)return storage_get("selected_lang");var url=window.location.href.split("?");if(url.length==2){var params=url[1].split("&");for(var i=0;i<params.length;++i){var keyvalue=params[i].split("=");if(keyvalue.length==2&&keyvalue[0].toLowerCase()=="lang"){var code=normalizeLangCode(keyvalue[1]);if(TXLIVE.hasLanguageCode(code))return code;
break}}}url=window.location.host.split(".");if(url.length>0){var code=normalizeLangCode(url[0]);if(TXLIVE.hasLanguageCode(code))return code}url=window.location.pathname.split("/");if(url.length>1){var code=normalizeLangCode(url[1]);if(TXLIVE.hasLanguageCode(code))return code}return storage_get("selected_lang")||getBrowserLocale()}catch(err){Raven.captureException(wrapError(err))}}TXLIVE.translateTo=pickLanguage;TXLIVE.setLocale=setLocale;TXLIVE.dynamicPageOn=mutatorsOn;TXLIVE.dynamicPageOff=mutatorsOff;
TXLIVE.getLanguageName=function(langcode){try{if(!TXLIVE.denormalized_languages)return;var d=TXLIVE.denormalized_languages;for(var i=0;i<d.length;++i)if(d[i].code===langcode)return d[i].name}catch(err){Raven.captureException(wrapError(err))}};TXLIVE.hasLanguageCode=function(langcode){try{if(!TXLIVE.denormalized_languages)return false;var d=TXLIVE.denormalized_languages;for(var i=0;i<d.length;++i)if(d[i].code===langcode)return true;return false}catch(err){Raven.captureException(wrapError(err))}};TXLIVE.matchLanguageCode=
function(fuzzy_langcode){try{if(!TXLIVE.denormalized_languages)return;function stripCode(code){code=code||"";if(code.indexOf("-")>=0)code=code.split("-")[0];else if(code.indexOf("_")>=0)code=code.split("_")[0];return code.toLowerCase()}fuzzy_langcode=stripCode(fuzzy_langcode);var d=TXLIVE.denormalized_languages;for(var i=0;i<d.length;++i)if(stripCode(d[i].code)===fuzzy_langcode)return d[i].code}catch(err){Raven.captureException(wrapError(err))}};TXLIVE.getAllLanguages=function(){return TXLIVE.denormalized_languages};
TXLIVE.getSourceLanguage=function(){if(TXLIVE.languages)return TXLIVE.languages.source};TXLIVE.onTranslatePage=function(fcall){this.__ontranslatepage=this.__ontranslatepage||[];this.__ontranslatepage.push(fcall);if(LAST_TRANSLATION_LANG&&fcall)callFunctionArray([fcall],LAST_TRANSLATION_LANG)};TXLIVE.onFetchLanguages=function(fcall){this.__onfetchlanguages=this.__onfetchlanguages||[];this.__onfetchlanguages.push(fcall);if(TXLIVE.languages&&fcall)callFunctionArray([fcall],TXLIVE.denormalized_languages)};
TXLIVE.onDynamicContent=function(fcall){this.__ondynamiccontent=this.__ondynamiccontent||[];this.__ondynamiccontent.push(fcall)};TXLIVE.onError=function(fcall){this.__onerror=this.__onerror||[];this.__onerror.push(fcall)};TXLIVE.onReady=function(fcall){if(TXLIVE.ready&&fcall)callFunctionArray([fcall],TXLIVE.load_msec);else{this.__onready=this.__onready||[];this.__onready.push(fcall)}};TXLIVE.unBind=function(fcall){removeFromFunctionArray(this.__onready,fcall);removeFromFunctionArray(this.__onerror,
fcall);removeFromFunctionArray(this.__ondynamiccontent,fcall);removeFromFunctionArray(this.__onfetchlanguages,fcall);removeFromFunctionArray(this.__ontranslatepage,fcall)};TXLIVE.translateNodes=function(node_array){mutatorsOff();NEW_SEGMENTS_LIST=[];NEW_SEGMENTS_DICT={};for(var i=0;i<node_array.length;++i)try{if(!IS_SKIP_PARENT(node_array[i]))PARSE_DOM(node_array[i],[],PARSER_OPTIONS.DEFAULT)}catch(err){Raven.captureException(wrapError(err))}if(NEW_SEGMENTS_LIST.length){if(LAST_TRANSLATION_JSON){var json=
LAST_TRANSLATION_JSON;var i=NEW_SEGMENTS_LIST.length;while(i--){var s=NEW_SEGMENTS_LIST[i];var string=json[s.key]||s.source_string;var j=s.elements.length;while(j--){var item=s.elements[j];try{item.set(item,string)}catch(err){s.elements.splice(j,1)}}}}callFunctionArray(TXLIVE.__ondynamiccontent,NEW_SEGMENTS_LIST);autoCollect(NEW_SEGMENTS_DICT)}NEW_SEGMENTS_LIST=null;NEW_SEGMENTS_DICT=null;mutatorsOn()};TXLIVE.translateNode=function(node){TXLIVE.translateNodes([node])};var timer_translate_text=null;
var autocollect_translate_text={};function autocollect_translate_text_cb(){timer_translate_text=null;autoCollect(autocollect_translate_text);autocollect_translate_text={}}function translate_text_params(text,params){if(params)for(key in params)text=text.replace(new RegExp("\\{"+key+"\\}","g"),params[key]);return text}TXLIVE.translateText=function(text,params){if(!text||!text.length)return text;var key=TXLIVE.md5(text);if(LAST_TRANSLATION_JSON&&LAST_TRANSLATION_JSON[key])return translate_text_params(LAST_TRANSLATION_JSON[key],
params);var segments=TXLIVE.segments;var segment_list=TXLIVE.segment_list;var segment=segments[key];if(!segment){var segment={key:key,source_string:text,tags:["api"],elements:[]};segments[key]=segment;segment_list.push(segment);callFunctionArray(TXLIVE.__ondynamiccontent,[segment]);autocollect_translate_text[key]=segment;if(timer_translate_text)clearTimeout(timer_translate_text);timer_translate_text=setTimeout(autocollect_translate_text_cb,1E3)}return translate_text_params(text,params)};TXLIVE.group=
TXLIVE.md5(document.title||"default");try{var metas=document.getElementsByTagName("meta");for(i=0;i<metas.length;++i){var group=metas[i].getAttribute("txlive-group");if(group&&group.length){TXLIVE.group=TXLIVE.md5(group);break}}}catch(err){Raven.captureException(wrapError(err))}TXLIVE.version="latest";TXLIVE.segments={};TXLIVE.segment_list=[];TXLIVE.languages_url=window.liveSettings.cdn||"//cdn.transifex.com/";TXLIVE.autocollect_url=window.liveSettings.autocollect_url||"//clsrv.transifex.com";TXLIVE.staging=
window.liveSettings.staging?true:false;function __ready__(){if(TXLIVE.ready)return;TXLIVE.ready=true;showDom();autoCollect();if(document&&document.addEventListener){var insertListener=function(event){if(event.animationName=="txlivenodeinserted")TXLIVE.translateNode(event.target)};document.addEventListener("animationstart",insertListener,false);document.addEventListener("MSAnimationStart",insertListener,false);document.addEventListener("webkitAnimationStart",insertListener,false)}try{TXLIVE.load_msec=
(new Date).getTime()-benchmark}catch(err){}callFunctionArray(TXLIVE.__onready,TXLIVE.load_msec);TXLIVE.__onready=null;if(window.liveSettings.prerender)window.prerenderReady=true}function __init__(){try{benchmark=(new Date).getTime()}catch(err){}try{PARSE_DOM(document.head||document.getElementsByTagName("head")[0],[],PARSER_OPTIONS.DEFAULT);PARSE_DOM(document.body||document.getElementsByTagName("body")[0],[],PARSER_OPTIONS.DEFAULT)}catch(err){Raven.captureException(wrapError(err))}try{__init_mutators__()}catch(err){Raven.captureException(wrapError(err))}if(window.liveSettings.api_key&&
!TXLIVE.live_noop){if(window.liveSettings.version)TXLIVE.version=window.liveSettings.version;setLanguages(storage_get("languages"));pickLanguage(normalizeLangCode(detectLanguage()));var langs_loaded=false;window.transifex_languages=function(data){langs_loaded=true;storage_set("languages",data);setLanguages(data);pickLanguage(normalizeLangCode(detectLanguage()));if(!TXLIVE.languages)__ready__()};var langs_url=TXLIVE.languages_url+window.liveSettings.api_key+"/"+TXLIVE.version;if(TXLIVE.staging)langs_url+=
"/languages.staging.jsonp";else langs_url+="/languages.jsonp";TXLIVE.loadScript(langs_url,function(){setTimeout(function(){if(!langs_loaded){__ready__();callFunctionArray(TXLIVE.__onerror,"[ERR3] Cannot load languages url: "+langs_url)}},100)})}else __ready__()}bindReady(__init__)})();
